---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->


# EpiStandard <img src="man/figures/hexsticker.png" align="right" style="width:25%;"/>

<!-- badges: start -->

<!-- badges: end -->

The goal of EpiStandard is to provide functions to allow for age 
standardisation of results produced from epidemiological studies.

## Installation

You can install the development version of EpiStandard from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("oxford-pharmacoepi/EpiStandard")
```

## Main functionalities

```{r library}
library(EpiStandard)
```

The main functionality of the package is to calculate directly standardised rates.

### Example

```{r example}
 df_study <- data.frame(state=rep(c('Miami',"Alaska"), c(5,5)),
                       age=rep(c('0-14','15-24','25-44','45-64','65-150'),2),
                       deaths=c(136,57,208,1016,3605,59,18,37,90,81),
                       fu=c(114350,80259,133440,142670,92168,37164,20036,32693,14947,2077))

 #US standard population
 df_ref  <- data.frame(age=c('0-14','15-24','25-44','45-64','65-150'),
                      pop=c(23961000,15420000,21353000,19601000,10685000))

 #Directly standardised Rates (per 1000) - 95% CI's using the gamma method
 my_results <- directlyStandardisedRates(data = df_study,
                   event = "deaths",
                   denominator = "fu",
                   strata = "state",
                   age = "age",
                   refdata = df_ref)
 
 my_results |> dplyr::glimpse()
```
